<ActionBar class="action-bar">

    <StackLayout orientation="horizontal" horizontalAlignment="left">
        <Image src="res://icon_arrow_left" width="30" (tap)="backPage()" class="action-image"></Image>
        <Label text="Carrinho" marginLeft="12" verticalAlignment="center" class="action-label"></Label>
        <Label text="2" class="action-bar-count"></Label>
    </StackLayout>

</ActionBar>

<ScrollView class="page" *ngIf="!loading">
    <StackLayout>

        <StackLayout class="tabStore card" [nsRouterLink]="['/checkout-payment']" pageTransition="slideLeft">
            <ScrollView orientation="horizontal" class="tabStore-container">
                <FlexboxLayout padding="4">
                    <FlexboxLayout class="tabStore-item tabStore-item-is-active" alignItems="center">
                        <Label text="Portal da Villa Choperia"></Label>
                    </FlexboxLayout>
                    <FlexboxLayout class="tabStore-item" alignItems="center">
                        <Label text="Vila do Chop"></Label>
                    </FlexboxLayout>
                    <FlexboxLayout class="tabStore-item" alignItems="center">
                        <Label text="Vila do Chop"></Label>
                    </FlexboxLayout>
                    <FlexboxLayout class="tabStore-item" alignItems="center">
                        <Label text="Vila do Chop"></Label>
                    </FlexboxLayout>
                    <FlexboxLayout class="tabStore-item" alignItems="center">
                        <Label text="Vila do Chop"></Label>
                    </FlexboxLayout>
                </FlexboxLayout>
            </ScrollView>

        </StackLayout>

        <StackLayout class="card address">

            <FlexboxLayout alignItems="center" class="store">
                <Image src="https://cdn.wiboo.io/Imageb4bb3f4e-26bd-4817-9c5a-cb752e6bdf05" stretch="fill"
                    class="store-logo"></Image>
                <Label text="Portal da Villa Bar e Choperia" class="store-name"></Label>
            </FlexboxLayout>

            <Label text="Endereço de Retirada:" class="address-label"></Label>
            <GridLayout columns="*, auto" rows="auto">

                <StackLayout col="0" row="0" verticalAlignment="center">
                    <StackLayout orientation="horizontal">
                        <Label text="Av. Cassiano Ricardo, 1800 - Jardim Alvorada, São José dos Campos - SP, 12246-870"
                            textWrap="true" class="address-location">
                        </Label>
                    </StackLayout>
                </StackLayout>

                <Image col="1" row="0" src="res://map_location" class="address-icon" stretch="fill"></Image>
            </GridLayout>

        </StackLayout>

        <StackLayout class="card" marginTop="12" padding="0">


            <GridLayout columns="80, *" rows="auto" class="product" *ngFor="let item of items">

                <StackLayout col="0" row="0" horizontalAlignment="left">
                    <Image [src]="item.img" class="img" stretch="fill"></Image>
                </StackLayout>

                <FlexboxLayout flexDirection="column" justifyContent="space-between" col="1" row="0">
                    <GridLayout columns="*, auto" rows="auto">
                        <StackLayout col="0" row="0">
                            <StackLayout orientation="horizontal">
                                <Label [text]="item.name" textWrap="true" class="card-name"></Label>
                            </StackLayout>

                        </StackLayout>

                        <StackLayout col="1" row="0">
                            <Image src="res://trash" class="btn-trash" stretch="fill"></Image>
                        </StackLayout>
                    </GridLayout>

                    <StackLayout verticalAlignment="bottom">
                        <GridLayout columns="*, auto" rows="auto">

                            <StackLayout col="0" row="0" orientation="horizontal">
                                <FlexboxLayout alignItems="center">
                                    <Button text="-" lineHeight="1" class="qty-btn"></Button>
                                    <Label text="2" class="qty-total"></Label>
                                    <Button text="+" class="qty-btn"></Button>
                                </FlexboxLayout>
                            </StackLayout>

                            <StackLayout col="1" row="0" orientation="horizontal">
                                <Label [text]="item.price" class="card-price" verticalAlignment="bottom"></Label>
                            </StackLayout>
                        </GridLayout>
                    </StackLayout>
                </FlexboxLayout>
            </GridLayout>
        </StackLayout>

        <StackLayout class="card payment" [nsRouterLink]="['/checkout-payment']" pageTransition="slideLeft" marginTop="12">
            <GridLayout columns="*, auto" rows="auto">
                <StackLayout col="0" row="0">
                    <StackLayout>
                        <Label text="Formas de pagamento"></Label>
                        <!-- de acordo com o que selecionar na tela de pagamento, exibir aqui o valor -->
                        <!-- <Label text="Wibx + Dinheiro" class="payment-text"></Label> -->
                    </StackLayout>
                </StackLayout>

                <StackLayout col="1" row="0" verticalAlignment="center">
                    <Label text="Escolher" class="payment-choose"></Label>
                </StackLayout>
            </GridLayout>
        </StackLayout>

        <StackLayout class="card" marginTop="12">

            <FlexboxLayout class="summary">
                <Label text="Custo dos produtos"></Label>
                <Label text="R$ 2,79" class="summary-value"></Label>
            </FlexboxLayout>

            <FlexboxLayout class="summary">
                <Label text="Custo dos produtos"></Label>
                <Label text="R$ 2,79" class="summary-value"></Label>
            </FlexboxLayout>

            <FlexboxLayout class="summary summary-total">
                <FlexboxLayout flexDirection="column">
                    <Label text="Valor total" class="black"></Label>
                    <Label text="Restante a pagar" class="summary-money"></Label>
                </FlexboxLayout>
                <Label text="R$ 28,79" class="black summary-value summary-total-value"></Label>
            </FlexboxLayout>

        </StackLayout>

        <Button text="Finalizar Reserva" class="btn-confirm"></Button>

        <Label class="msg-withdraw" textWrap="true"
            text="Não esqueça de conferir o hoŕario de funcionamento da loja, para retirar o produto."></Label>

        <GridLayout columns="30, auto" rows="auto" class="card" margin="20 0">
            <StackLayout col="0" row="0" horizontalAlignment="left">
                <Image src="res://shield" stretch="fill"></Image>
            </StackLayout>

            <StackLayout col="1" row="0" horizontalAlignment="left" marginLeft="8" verticalAlignment="center">
                <Label text="Pagamento 100% Seguro" class="payment-text"></Label>
            </StackLayout>

        </GridLayout>

    </StackLayout>
</ScrollView>
